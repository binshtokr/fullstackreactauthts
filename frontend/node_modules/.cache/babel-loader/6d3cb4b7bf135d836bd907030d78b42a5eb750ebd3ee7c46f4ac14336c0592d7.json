{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\BTAPPLEX\\\\reactauthts\\\\frontend\\\\src\\\\pages\\\\Registration.tsx\",\n  _s = $RefreshSig$();\n// components/Registration.tsx\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { registerUser } from \"../services/authService\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Registration = () => {\n  _s();\n  const {\n    isAuthenticated,\n    setIsAuthenticated\n  } = useAuth();\n  const {\n    values,\n    validated,\n    setValidated,\n    handleChange,\n    validateForm,\n    setValues\n  } = useFormValidation({\n    name: \"\",\n    email: \"\",\n    passwd: \"\"\n  });\n  const navigate = useNavigate();\n  const [isSubmitted, setSubmitted] = useState(false);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n\n    // Validate the form\n    setValidated(true);\n    if (!validateForm()) {\n      return; // If form is not valid, don't submit\n    }\n    try {\n      // Call the register service\n      await registerUser(values);\n      setSubmitted(true);\n      setIsAuthenticated(true); // Set authentication to true\n      navigate(\"/signin\");\n    } catch (error) {\n      console.error(\"Error during registration\", error);\n    }\n  };\n\n  // Reset form state when submission is successful\n  useEffect(() => {\n    if (isSubmitted) {\n      setValues({\n        name: \"\",\n        email: \"\",\n        passwd: \"\"\n      });\n    }\n  }, [isSubmitted, setValues]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      height: \"100vh\",\n      alignItems: \"center\",\n      background: \"black\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      validated: validated,\n      onSubmit: handleSubmit,\n      style: {\n        width: \"300px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center text-light\",\n        children: \"Registration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formGroupEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"text-light\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Enter email\",\n          name: \"email\",\n          value: values.email,\n          onChange: handleChange,\n          required: true,\n          isInvalid: !!values.email && !/\\S+@\\S+\\.\\S+/.test(values.email)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Please provide a valid email.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formGroupPassword\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"text-light\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"passwd\",\n          value: values.passwd,\n          onChange: handleChange,\n          required: true,\n          minLength: 6,\n          isInvalid: !!values.passwd && values.passwd.length < 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Password must be at least 6 characters.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formGroupName\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"text-light\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Name\",\n          name: \"name\",\n          value: values.name,\n          onChange: handleChange,\n          required: true,\n          isInvalid: !!values.name && values.name.trim() === \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Please provide a valid name.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        className: \"w-100\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(Registration, \"HpO+kUacP1Ys3ncQ9we7AaSq4tw=\", false, function () {\n  return [useAuth, useFormValidation, useNavigate];\n});\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Form","Button","registerUser","useFormValidation","useAuth","jsxDEV","_jsxDEV","Registration","_s","isAuthenticated","setIsAuthenticated","values","validated","setValidated","handleChange","validateForm","setValues","name","email","passwd","navigate","isSubmitted","setSubmitted","handleSubmit","event","preventDefault","form","currentTarget","error","console","style","display","justifyContent","height","alignItems","background","children","noValidate","onSubmit","width","className","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Label","Control","type","placeholder","value","onChange","required","isInvalid","test","Feedback","minLength","length","trim","variant","_c","$RefreshReg$"],"sources":["C:/Program Files/BTAPPLEX/reactauthts/frontend/src/pages/Registration.tsx"],"sourcesContent":["// components/Registration.tsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { registerUser } from \"../services/authService\";\r\nimport useFormValidation from \"../hooks/useFormValidation\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst Registration = () => {\r\n    const { isAuthenticated, setIsAuthenticated } = useAuth();\r\n    const { values, validated, setValidated, handleChange, validateForm, setValues } = useFormValidation({\r\n        name: \"\",\r\n        email: \"\",\r\n        passwd: \"\",\r\n    });\r\n\r\n    const navigate = useNavigate();\r\n    const [isSubmitted, setSubmitted] = useState(false);\r\n\r\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        const form = event.currentTarget;\r\n\r\n        // Validate the form\r\n        setValidated(true);\r\n\r\n        if (!validateForm()) {\r\n            return; // If form is not valid, don't submit\r\n        }\r\n\r\n        try {\r\n            // Call the register service\r\n            await registerUser(values);\r\n            setSubmitted(true);\r\n            setIsAuthenticated(true); // Set authentication to true\r\n            navigate(\"/signin\");\r\n        } catch (error) {\r\n            console.error(\"Error during registration\", error);\r\n        }\r\n    };\r\n\r\n    // Reset form state when submission is successful\r\n    useEffect(() => {\r\n        if (isSubmitted) {\r\n            setValues({ name: \"\", email: \"\", passwd: \"\" });\r\n        }\r\n    }, [isSubmitted, setValues]);\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", height: \"100vh\", alignItems: \"center\", background: \"black\" }}>\r\n            <Form noValidate validated={validated} onSubmit={handleSubmit} style={{ width: \"300px\" }}>\r\n                <h1 className=\"text-center text-light\">Registration</h1>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formGroupEmail\">\r\n                    <Form.Label className=\"text-light\">Email address</Form.Label>\r\n                    <Form.Control\r\n                        type=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        name=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleChange}\r\n                        required\r\n                        isInvalid={!!values.email && !/\\S+@\\S+\\.\\S+/.test(values.email)}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">Please provide a valid email.</Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formGroupPassword\">\r\n                    <Form.Label className=\"text-light\">Password</Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"passwd\"\r\n                        value={values.passwd}\r\n                        onChange={handleChange}\r\n                        required\r\n                        minLength={6}\r\n                        isInvalid={!!values.passwd && values.passwd.length < 6}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">Password must be at least 6 characters.</Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formGroupName\">\r\n                    <Form.Label className=\"text-light\">Name</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Name\"\r\n                        name=\"name\"\r\n                        value={values.name}\r\n                        onChange={handleChange}\r\n                        required\r\n                        isInvalid={!!values.name && values.name.trim() === \"\"}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">Please provide a valid name.</Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\r\n                    Sign Up\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}